(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d5b8a56","chunk-a33ceffe"],{1273:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("transition",{attrs:{name:"slide"}},[e("div",{attrs:{id:"song"}},[e("page-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticStyle:{height:"5rem"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"title",style:{backgroundImage:"url("+t.background+")"}},[e("gbnav",{staticClass:"nav"},[e("div",{staticClass:"left"},[e("span",{staticClass:"left-title"},[t._v(t._s(t.title))]),e("span",{staticClass:"description"},[t._v("编辑推荐:"+t._s(t._f("description1")(t.songDetail.description)))])]),e("div",{staticClass:"right"},[e("span",[e("i",{staticClass:"iconserch iconfont"})]),e("span",[e("i",{staticClass:"iconcaidan1 iconfont"})])])])],1),e("song-tab-bar",{directives:[{name:"show",rawName:"v-show",value:t.isTabFixed,expression:"isTabFixed"}],staticClass:"song-tab-bar1",attrs:{many:t.songDetail.trackCount?t.songDetail.trackCount:t.songDetail.album?t.songDetail.album.size:0,subscribedCount:t.songDetail.subscribedCount}}),e("scroll",{ref:"scroll",staticClass:"content",attrs:{"probe-type":3},on:{scroll:t.contentscroll}},[e("find-song-detail",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],attrs:{songDetailId:t.songDetailId,imgUrl:t.songDetail.coverImgUrl,title:t.title,name:t.songDetail.name,backgroundImage:t.songDetail.coverImgUrl,description:t.songDetail.description,touImg:t.songDetail.creator?t.songDetail.creator.avatarUrl:t.songDetail.album?t.songDetail.album.artist.picUrl:"",nickname:t.songDetail.creator?t.songDetail.creator.nickname:t.songDetail.album?t.songDetail.album.artist.name:"",comment:t.songDetail.commentCount,share:t.songDetail.shareCount,playCount:t.songDetail.playCount}}),e("song-tab-bar",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],ref:"findsongdetail",class:{songtabbar:t.isTabFixed},attrs:{many:t.songDetail.trackCount?t.songDetail.trackCount:t.songDetail.album?t.songDetail.album.size:0,subscribedCount:t.songDetail.subscribedCount}}),e("div",{staticClass:"music-list"},t._l(t.songDetail.tracks,(function(a,n){return e("music-list",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],key:n,attrs:{maxbr:t.isSq[n],num:n+1,songName:a.name,arName:a.ar,alName:a.al.name,alia:a.alia[0],songId:a.id},on:{startPlay:t.startPlayAll}})})),1)],1)],1)])},s=[],i=(e("a4d3"),e("e01a"),e("d81d"),e("b0c0"),e("d28b"),e("e260"),e("d3b7"),e("3ca3"),e("ddb0"),e("06c5"));function o(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=Object(i["a"])(t))){var a=0,e=function(){};return{s:e,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s,o=!0,r=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){r=!0,s=t},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(r)throw s}}}}var r,l=e("5530"),c=e("aa65"),u=e("1bac"),g=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"music-content",on:{click:t.startPlay}},[e("div",{staticClass:"list-item"},[e("span",{staticClass:"num"},[t._v(t._s(t.num))]),e("div",{staticClass:"song-detail"},[e("div",{staticClass:"song-name"},[t._v(t._s(t.songName)+" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.alia,expression:"alia"}]},[t._v("("+t._s(t.alia)+")")])]),t._l(t.arName,(function(a){return e("div",{staticClass:"creator"},[t.maxbr?e("span",{staticClass:"maxbr"},[t._v("SQ")]):t._e(),t._v(t._s(a.name)+" - "+t._s(t.alName))])}))],2),t._m(0)])])},d=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"more"},[e("i",{staticClass:"iconcaidan1 iconfont"})])}],m=(e("a9e3"),e("2f62")),f={computed:Object(l["a"])({},Object(m["c"])({playList:"PLAY_LIST"})),props:{num:{type:Number},songName:{type:String},arName:{type:Array},alName:{type:String},maxbr:{type:Boolean},songID:{type:Number},alia:{type:String}},created:function(){console.log(this.maxbr)},methods:{startPlay:function(){console.log("dianji"),this.$emit("startPlay")}}},v=f,b=(e("5b93"),e("2877")),p=Object(b["a"])(v,g,d,!1,null,"62063aaa",null),h=p.exports,y=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"play-list"},[e("div",{staticClass:"play-title"},[e("i",[t._v("播放")]),e("span",[t._v("播放全部")]),t.many?e("span",{staticClass:"total"},[t._v("(共"+t._s(t.many)+"首)")]):t._e(),t.subscribedCount?e("span",{staticClass:"star"},[t._v("+收藏("+t._s(t.subscribedCount)+")")]):t._e()])])},C=[],_={props:{many:{type:Number},subscribedCount:{type:Number}}},D=_,w=(e("642d"),Object(b["a"])(D,y,C,!1,null,"2766957a",null)),k=w.exports,S=e("aaf6"),I=e.n(S),x=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"nav"},[e("i",{staticClass:"iconback iconfont",on:{click:t.backClick}}),t._t("default")],2)},N=[],j={methods:{backClick:function(){this.$router.back()}}},O=j,P=(e("86ab"),Object(b["a"])(O,x,N,!1,null,null,null)),$=P.exports,T=e("5d17"),A=e("1ae0"),U={name:"Song",data:function(){return{songDetailId:0,songDetail:[],songPeivileges:[],title:"",background:"",background1:"",img:e("cf05"),isSq:{},i:[],loading:!0,isTabFixed:!1,tabOffsetTop:0,isNone:0,newSongDeatilId:0}},beforeCreate:function(){r=this},filters:{description1:function(t){return t?r.songDetail.description:"猜你喜欢"}},mounted:function(){},created:function(){var t=this,a=this.$route.params.songDetailId,e=this.$route.params.newSongDeatilId;this.songDetailId=a,this.newSongDeatilId=e,a&&(this.title="歌单",A["a"].getSongDetail(this.songDetailId).then((function(a){var e=a.data;console.log(a),200===e.code&&(t.songDetail=e.playlist,t.songPeivileges=e.privileges,t._isSQ(),t.loading=!1)})).catch((function(t){console.log(t)}))),e&&(this.title="歌单",A["a"].getSongDetail(this.newSongDeatilId).then((function(a){var e=a.data;if(console.log(a),200===e.code){t.songDetail=e.playlist,t.songPeivileges=e.privileges,t._isSQ(),t.loading=!1;var n=I()(t.songDetail.coverImgUrl,{ignore:["rgb(255,255,255)","rgb(0,0,0)"]});n.then((function(a){t.background=a[0].color,t.loading=!1}))}})).catch((function(t){console.log(t)})))},components:{FindSongDetail:c["default"],MusicList:h,PageLoading:u["a"],Scroll:T["a"],Gbnav:$,SongTabBar:k},methods:Object(l["a"])({contentscroll:function(t){this.tabOffsetTop=this.$refs.findsongdetail.$el.offsetTop,console.log(this.$refs.findsongdetail.$el.offsetTop),-t.y>100?(this.title=this.songDetail.name,this.isTabFixed=50-t.y>this.tabOffsetTop,this.background=this.songDetail.coverImgUrl,console.log(this.background)):(this.title="歌单",this.background="transparent")},_isSQ:function(){var t,a=[],e=o(this.songPeivileges);try{for(e.s();!(t=e.n()).done;){var n=t.value;a.push(n.maxbr)}}catch(s){e.e(s)}finally{e.f()}this.isSq=a.map((function(t){return t>5e5}))},startPlayAll:function(){console.log("kjkj"),this.setSongAll({list:this.songDetail.tracks}),console.log(this.$store.state.playList)}},Object(m["b"])(["setSongAll"]))},E=U,F=(e("6aac"),Object(b["a"])(E,n,s,!1,null,"3d4b3c4b",null));a["default"]=F.exports},"25ca":function(t,a,e){},"35a8":function(t,a,e){},5912:function(t,a,e){},"5b93":function(t,a,e){"use strict";var n=e("ceeb"),s=e.n(n);s.a},"642d":function(t,a,e){"use strict";var n=e("35a8"),s=e.n(n);s.a},"6aac":function(t,a,e){"use strict";var n=e("f776"),s=e.n(n);s.a},"86ab":function(t,a,e){"use strict";var n=e("5912"),s=e.n(n);s.a},aa65:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"content",style:{backgroundImage:"url("+t.backgroundImage+")"}},[e("div",{staticClass:"item"},[e("div",{staticClass:"h"}),e("div",{staticClass:"title-content"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imgUrl,expression:"imgUrl"}],attrs:{alt:""}}),e("span",{staticClass:"play-number"},[e("i",{staticClass:"iconbofang iconfont"}),t._v(" "+t._s(t._f("setPlayCount")(t.playCount)))]),e("div",{staticClass:"name"},[t._v(t._s(t.name)+" "),t.touImg?e("div",{staticClass:"tou"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.touImg,expression:"touImg"}],attrs:{alt:""}}),t.nickname?e("span",[t._v(t._s(t.nickname)+">")]):t._e(),e("div",{staticClass:"description description1"},[t._v(" "+t._s(t.description)+" ")])]):t._e()])]),e("div",{staticClass:"downlond"},[e("div",{staticClass:"comments"},[t._v("评论 "),e("span",[t._v(t._s(t.comment))])]),e("div",{staticClass:"comments"},[t._v("分享 "),e("span",[t._v(t._s(t.share))])]),e("div",{staticClass:"comments"},[t._v("下载")]),e("div",{staticClass:"comments"},[t._v("多选")])])])])])},s=[],i=(e("a9e3"),{name:"FindSongDetail",props:{songDetailId:{type:Number},imgUrl:{type:String},title:{type:String},name:{type:String},backgroundImage:{type:String},description:{type:String},touImg:{type:String},nickname:{type:String,default:function(){return"网易云"}},playCount:{type:Number},comment:{type:Number},share:{type:Number}},data:function(){return{}},created:function(){console.log(this.backgroundImage)},filters:{setPlayCount:function(t){return t?(t>1e4&&(t=Math.floor(t/1e4)+"万"),t):""}},components:{}}),o=i,r=(e("d6bf"),e("2877")),l=Object(r["a"])(o,n,s,!1,null,"355b7635",null);a["default"]=l.exports},aaf6:function(t,a,e){!function(a,e){t.exports=e()}(0,(function(){var t=function(t,a){void 0===a&&(a=1);var e=new Image;return t.startsWith("data")||(e.crossOrigin="Anonymous"),new Promise((function(n,s){e.onload=function(){var t=e.width*a,s=e.height*a,i=function(t,a){var e=document.createElement("canvas");return e.setAttribute("width",t),e.setAttribute("height",a),e.getContext("2d")}(t,s);i.drawImage(e,0,0,t,s);var o=i.getImageData(0,0,t,s);n(o.data)};var i=function(){return s(new Error("An error occurred attempting to load image"))};e.onerror=i,e.onabort=i,e.src=t}))},a={ignore:[],scale:1};return function(e,n){void 0===n&&(n=a);try{var s=(n=Object.assign({},a,n)).ignore,i=n.scale;return(i>1||i<=0)&&console.warn("You set scale to "+i+", which isn't between 0-1. This is either pointless (> 1) or a no-op (≤ 0)"),Promise.resolve(t(e,i)).then((function(t){return function(t,a){for(var e={},n=0;n<t.length;n+=4){var s=t[n+3];if(0!==s){var i=Array.from(t.subarray(n,n+3));if(-1===i.indexOf(void 0)){var o=s&&255!==s?"rgba("+i.concat([s]).join(",")+")":"rgb("+i.join(",")+")";-1===a.indexOf(o)&&(e[o]?e[o].count++:e[o]={color:o,count:1})}}}return Object.values(e).sort((function(t,a){return a.count-t.count}))}(t,s)}))}catch(t){return Promise.reject(t)}}}))},ceeb:function(t,a,e){},cf05:function(t,a,e){t.exports=e.p+"img/logo.82b9c7a5.png"},d6bf:function(t,a,e){"use strict";var n=e("25ca"),s=e.n(n);s.a},f776:function(t,a,e){}}]);
//# sourceMappingURL=chunk-1d5b8a56.5de11d7c.js.map